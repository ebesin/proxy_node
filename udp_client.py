import socket
import threading
import time
class UDPSend:
    def __init__(self,target_addr,target_port):
        self.udp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        self.target_address = (target_addr, target_port)

    def __del__(self):
        self.udp_socket.close()

    def send(self,msg):
        self.udp_socket.sendto(msg,self.target_address)

if __name__ == "__main__":
    send_client = UDPSend('192.168.1.176',8765)
    # while True:
    #     send_client.send(b'\x12\x10\xb5\x00\x0b\x14\x02\x00\x00\x00\x00\x72\xc0\x00\x00\x01\xf7\x42\x12\x16\x8a\x26\x3d\x05\x0a\x00\x00\x00' \
    #          b'\x02\xa8\xe4\x12\x16\x50\x4d\x40\x05\x14\x00\x00\x00\x03\xa8\xe4\x12\x16\xbd\x4e\x43\x05\x1e\x00\x00\x00\x04\x3d\xbc' \
    #          b'\x12\x16\x1f\xd2\x45\x05\x28\x00\x00\x00\x05\x9a\x9e\x13\x16\x25\x1a\x48\x05\x32\x00\x00\x00\x06\x45\x5b\x15\x16\x69' \
    #          b'\x90\x48\x05\x3c\x00\x00\x00\x07\x06\x81\x17\x16\x21\x70\x47\x05\x46\x00\x00\x00\x08\x75\x0a\x18\x16\x4f\xe8\x45\x05' \
    #          b'\x50\x00\x00\x00\x09\x36\xf2\x17\x16\xe5\xae\x43\x05\x5a\x00\x00\x00\x0a\xc4\x68\x17\x16\x49\x9a\x41\x05\x64\x00\x00' \
    #          b'\x00\x0b\x68\xe7\x16\x16\x1b\x59\x3f\x05\x6e\x00\x00\x00\x0c\x6d\x6b\x15\x16\x3e\x47\x3e\x05\x78\x00\x00\x00\x42\x02' \
    #          b'\x39\x14\x00\x07\x06\x16\x11\x02')
    #     time.sleep(2)
    # send_client.send(b'\x12\x10\xb5\x00\x0b\x14\x02\x00\x00\x00\x00\x72\xc0\x00\x00\x01\xf7\x42\x12\x16\x8a\x26\x3d\x05\x0a\x00\x00\x00' \
    #          b'\x02\xa8\xe4\x12\x16\x50\x4d\x40\x05\x14\x00\x00\x00\x03\xa8\xe4\x12\x16\xbd\x4e\x43\x05\x1e\x00\x00\x00\x04\x3d\xbc' \
    #          b'\x12\x16\x1f\xd2\x45\x05\x28\x00\x00\x00\x05\x9a\x9e\x13\x16\x25\x1a\x48\x05\x32\x00\x00\x00\x06\x45\x5b\x15\x16\x69' \
    #          b'\x90\x48\x05\x3c\x00\x00\x00\x07\x06\x81\x17\x16\x21\x70\x47\x05\x46\x00\x00\x00\x08\x75\x0a\x18\x16\x4f\xe8\x45\x05' \
    #          b'\x50\x00\x00\x00\x09\x36\xf2\x17\x16\xe5\xae\x43\x05\x5a\x00\x00\x00\x0a\xc4\x68\x17\x16\x49\x9a\x41\x05\x64\x00\x00' \
    #          b'\x00\x0b\x68\xe7\x16\x16\x1b\x59\x3f\x05\x6e\x00\x00\x00\x0c\x6d\x6b\x15\x16\x3e\x47\x3e\x05\x78\x00\x00\x00\x42\x02' \
    #          b'\x39\x14\x00\x07\x06\x16\x11\x02')
    # 控制指令
    msg_t1 = b'\x12\x10\x18\x00\x0b\x10\x01\x00\x00\x00\x00\x72\x21\x00\x71\x02\x2e\x14\x00\x07\x06\x16\x11\xd2'
    # 航路规划
    msg_t6 = b'\x12\x10\xb5\x00\x0b\x14\x02\x00\x00\x00\x00\x72\xc0\x00\x00\x01\xf7\x42\x12\x16\x8a\x26\x3d\x05\x0a\x00\x00\x00' \
             b'\x02\xa8\xe4\x12\x16\x50\x4d\x40\x05\x14\x00\x00\x00\x03\xa8\xe4\x12\x16\xbd\x4e\x43\x05\x1e\x00\x00\x00\x04\x3d\xbc' \
             b'\x12\x16\x1f\xd2\x45\x05\x28\x00\x00\x00\x05\x9a\x9e\x13\x16\x25\x1a\x48\x05\x32\x00\x00\x00\x06\x45\x5b\x15\x16\x69' \
             b'\x90\x48\x05\x3c\x00\x00\x00\x07\x06\x81\x17\x16\x21\x70\x47\x05\x46\x00\x00\x00\x08\x75\x0a\x18\x16\x4f\xe8\x45\x05' \
             b'\x50\x00\x00\x00\x09\x36\xf2\x17\x16\xe5\xae\x43\x05\x5a\x00\x00\x00\x0a\xc4\x68\x17\x16\x49\x9a\x41\x05\x64\x00\x00' \
             b'\x00\x0b\x68\xe7\x16\x16\x1b\x59\x3f\x05\x6e\x00\x00\x00\x0c\x6d\x6b\x15\x16\x3e\x47\x3e\x05\x78\x00\x00\x00\x42\x02' \
             b'\x39\x14\x00\x07\x06\x16\x11\x02'
    # 光电载荷
    msg_t9 = b'\x12\x10\x1a\x00\x0b\x18\x05\x00\x00\x00\x00\x72\x00\x99\x08\x01\xfa\x00\x01\x15\x00\x07\x06\x16\x11\xbc'
    # 链路规划
    msg_t12 = b'\x12\x10\x1c\x00\x0b\x1c\x04\x00\x00\x00\x00\x72\x00\x01\x04\x03\x02\x01\x51\x01\x04\x15\x00\x07\x06\x16\x11\x85'
    # 图像信息
    msg_t15 = b'\x12\x10\x16\x00\x0b\x20\x2d\x00\x00\x00\x00\x72\x39\x03\x24\x2d\x0d\x07\x06\x16\x00\xbf'
    # 视频信息
    msg_t18 = b'\x12\x10\x16\x00\x0b\x24\x31\x00\x00\x00\x00\x72\x46\x02\x12\x33\x0d\x07\x06\x16\x00\xc7'
    # 航路轨迹
    msg_t21 = b'\x12\x10\x15\x00\x0b\x28\x34\x00\x00\x00\x00\x72\xc4\x01\x07\x3b\x0d\x07\x06\x16\x47'
    # 遥控指令
    msg_t24 = b'\x12\x10\x16\x00\x0b\x2c\x28\x00\x00\x00\x00\x72\x02\xc4\x01\x07\x3b\x0d\x07\x06\x16\x42'
    # 遥测指令
    msg_t26 = b'\x12\x10\x15\x00\x0b\x30\x29\x00\x00\x00\x00\x72\xc4\x01\x07\x3b\x0d\x07\x06\x16\x44'
    # 平台返航信息
    msg_t28 = b'\x12\x10\x16\x00\x0b\x34\x40\x00\x00\x00\x00\x72\x01\xc4\x01\x07\x3b\x0d\x07\x06\x16\x61'

    send_client.send(msg_t18)
    # send_client.send(b'\x12\x10\x18\x00\x0b\x10\x01\x00\x00\x00\x00\x72\x21\x00\x71\x02\x2e\x14\x00\x07\x06\x16\x11\xd2')